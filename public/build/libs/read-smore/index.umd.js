!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e||self).readSmore=n()}(this,function(){function e(){return e=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},e.apply(this,arguments)}var n={blockClassName:"read-smore",wordsCount:30,charsCount:null,moreText:"Read More",lessText:"Read Less",isInline:!1,linkElement:"a"};return function(t,r){r=e({},n,r);var a={originalContentArr:[],truncatedContentArr:[]};function i(e,n,i){var s=t[n].dataset.readSmoreMoreText,l=t[n].dataset.readSmoreLessText,d=e.currentTarget,u="true"===d.dataset.clicked;t[n].classList.toggle("is-expanded"),t[n].innerHTML=u?a.truncatedContentArr[n]:a.originalContentArr[n],d.innerHTML=u?s||r.moreText:l||r.lessText,d.dataset.clicked=!u,d.ariaExpanded=!u,i&&o(t[n])}function o(e,n){e&&(e.lastElementChild.style.display="inline",e.style.display="inline"),n&&(n.style.display="inline")}return{init:function(){t.forEach(function(e,n){!function(e,n){var s,l=function(e){return parseInt(e.dataset.readSmoreChars)||parseInt(r.charsCount)||parseInt(e.dataset.readSmoreWords)||parseInt(r.wordsCount)}(e),d=e.innerHTML,u=function(e){return void 0!==e.dataset.readSmoreChars||null!==r.charsCount}(e),c=function(e,n,t){void 0===t&&(t=!1);var r=function(e){return e.replace(/(^\s*)|(\s*$)/gi,"")}(e);return t?r.slice(0,n-1)+"...":r.split(/\s+/).slice(0,n-1).join(" ")+"..."}(d,l,u),f=u?d.length:(s=d,null!==s&&""!==s&&s.replace(/<[^>]+>/g,"")).split(" ").filter(function(e){return""!==e.trim()}).length;a.originalContentArr.push(d),a.truncatedContentArr.push(c),l<f&&(e.innerHTML=a.truncatedContentArr[n],function(e){var n=function(e){return void 0!==e.dataset.readSmoreInline||!0===r.isInline}(t[e]),a=document.createElement("span");a.className=r.blockClassName+"__link-wrap",a.innerHTML=function(e){return"\n      <"+r.linkElement+'\n        class="'+r.blockClassName+'__link"\n        style="cursor:pointer"\n        aria-expanded="false"\n        tabIndex="0">\n          '+(e.dataset.readSmoreMoreText||r.moreText)+"\n      </"+r.linkElement+">\n    "}(t[e]),n&&o(t[e],a),t[e].after(a),function(e,n){var a=t[e].nextSibling.firstElementChild;a.addEventListener("click",function(t){return i(t,e,n)}),a.addEventListener("keyup",function(t){13===t.keyCode&&"a"===r.linkElement&&i(t,e,n)})}(e,n)}(n))}(e,n)})}}}});
//# sourceMappingURL=index.umd.js.map
