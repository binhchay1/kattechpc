function n(){return n=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},n.apply(this,arguments)}const e={blockClassName:"read-smore",wordsCount:30,charsCount:null,moreText:"Read More",lessText:"Read Less",isInline:!1,linkElement:"a"};function t(t,r){r=n({},e,r);let a={originalContentArr:[],truncatedContentArr:[]};function s(n,e,s){const o=t[e].dataset.readSmoreMoreText,l=t[e].dataset.readSmoreLessText,c=n.currentTarget,d="true"===c.dataset.clicked;t[e].classList.toggle("is-expanded"),t[e].innerHTML=d?a.truncatedContentArr[e]:a.originalContentArr[e],c.innerHTML=d?o||r.moreText:l||r.lessText,c.dataset.clicked=!d,c.ariaExpanded=!d,s&&i(t[e])}function i(n,e){n&&(n.lastElementChild.style.display="inline",n.style.display="inline"),e&&(e.style.display="inline")}return{init:function(){t.forEach((n,e)=>{!function(n,e){const o=function(n){return parseInt(n.dataset.readSmoreChars)||parseInt(r.charsCount)||parseInt(n.dataset.readSmoreWords)||parseInt(r.wordsCount)}(n),l=n.innerHTML,c=function(n){return void 0!==n.dataset.readSmoreChars||null!==r.charsCount}(n),d=function(n,e,t=!1){const r=function(n){return n.replace(/(^\s*)|(\s*$)/gi,"")}(n);return t?r.slice(0,e-1)+"...":r.split(/\s+/).slice(0,e-1).join(" ")+"..."}(l,o,c),u=c?l.length:function(n){const e=function(n){return null!==n&&""!==n&&n.replace(/<[^>]+>/g,"")}(n).split(" ");return e.filter(n=>""!==n.trim()).length}(l);a.originalContentArr.push(l),a.truncatedContentArr.push(d),o<u&&(n.innerHTML=a.truncatedContentArr[e],function(n){const e=function(n){return void 0!==n.dataset.readSmoreInline||!0===r.isInline}(t[n]),a=document.createElement("span");a.className=`${r.blockClassName}__link-wrap`,a.innerHTML=function(n){return`\n      <${r.linkElement}\n        class="${r.blockClassName}__link"\n        style="cursor:pointer"\n        aria-expanded="false"\n        tabIndex="0">\n          ${n.dataset.readSmoreMoreText||r.moreText}\n      </${r.linkElement}>\n    `}(t[n]),e&&i(t[n],a),t[n].after(a),function(n,e){const a=t[n].nextSibling.firstElementChild;a.addEventListener("click",t=>s(t,n,e)),a.addEventListener("keyup",t=>{13===t.keyCode&&"a"===r.linkElement&&s(t,n,e)})}(n,e)}(e))}(n,e)})}}}export{t as default};
//# sourceMappingURL=index.modern.js.map
